"     protected string GetIPAddress()&#xD;&#xA;{&#xD;&#xA;System.Web.HttpContext context = System.Web.HttpContext.Current;&#xD;&#xA;string ipAddress = context.Request.ServerVariables[""""HTTP_X_FORWARDED_FOR""""];&#xD;&#xA;if (!string.IsNullOrEmpty(ipAddress))&#xD;&#xA;{&#xD;&#xA;string[] addresses = ipAddress.Split(',');&#xD;&#xA;if (addresses.Length != 0)&#xD;&#xA;{&#xD;&#xA;return addresses[0];&#xD;&#xA;}&#xD;&#xA;}&#xD;&#xA;return context.Request.ServerVariables[""""REMOTE_ADDR""""];&#xD;&#xA;}"
