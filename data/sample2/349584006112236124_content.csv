"Content"
"    import android.content.Context;&#xD;&#xA;    import android.util.Log;&#xD;&#xA;    &#xD;&#xA;    import com.jakewharton.picasso.OkHttp3Downloader;&#xD;&#xA;    import com.squareup.picasso.Picasso;&#xD;&#xA;    &#xD;&#xA;    /**&#xD;&#xA;     * Created by Hrishikesh Kadam on 19/12/2017&#xD;&#xA;     */&#xD;&#xA;    &#xD;&#xA;    public class CustomPicasso {&#xD;&#xA;    &#xD;&#xA;        private static String LOG_TAG = CustomPicasso.class.getSimpleName();&#xD;&#xA;        private static boolean hasCustomPicassoSingletonInstanceSet;&#xD;&#xA;    &#xD;&#xA;        public static Picasso with(Context context) {&#xD;&#xA;    &#xD;&#xA;            if (hasCustomPicassoSingletonInstanceSet)&#xD;&#xA;                return Picasso.with(context);&#xD;&#xA;    &#xD;&#xA;            try {&#xD;&#xA;                Picasso.setSingletonInstance(null);&#xD;&#xA;            } catch (IllegalStateException e) {&#xD;&#xA;                Log.w(LOG_TAG, """"-> Default singleton instance already present"""" +&#xD;&#xA;                        """" so CustomPicasso singleton cannot be set. Use CustomPicasso.getNewInstance() now."""");&#xD;&#xA;                return Picasso.with(context);&#xD;&#xA;            }&#xD;&#xA;    &#xD;&#xA;            Picasso picasso = new Picasso.Builder(context).&#xD;&#xA;                    downloader(new OkHttp3Downloader(context))&#xD;&#xA;                    .build();&#xD;&#xA;    &#xD;&#xA;            Picasso.setSingletonInstance(picasso);&#xD;&#xA;            Log.w(LOG_TAG, """"-> CustomPicasso singleton set to Picasso singleton."""" +&#xD;&#xA;                    """" In case if you need Picasso singleton in future then use Picasso.Builder()"""");&#xD;&#xA;            hasCustomPicassoSingletonInstanceSet = true;&#xD;&#xA;    &#xD;&#xA;            return picasso;&#xD;&#xA;        }&#xD;&#xA;    &#xD;&#xA;        public static Picasso getNewInstance(Context context) {&#xD;&#xA;    &#xD;&#xA;            Log.w(LOG_TAG, """"-> Do not forget to call customPicasso.shutdown()"""" +&#xD;&#xA;                    """" to avoid memory leak"""");&#xD;&#xA;    &#xD;&#xA;            return new Picasso.Builder(context).&#xD;&#xA;                    downloader(new OkHttp3Downloader(context))&#xD;&#xA;                    .build();&#xD;&#xA;        }&#xD;&#xA;    }"
