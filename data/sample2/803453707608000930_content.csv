"Content"
"    CREATE FUNCTION hierarchy_connect_by_parent_eq_prior_id(value INT) RETURNS INT&#xD;&#xA;    NOT DETERMINISTIC&#xD;&#xA;    READS SQL DATA&#xD;&#xA;    BEGIN&#xD;&#xA;            DECLARE _id INT;&#xD;&#xA;            DECLARE _parent INT;&#xD;&#xA;            DECLARE _next INT;&#xD;&#xA;            DECLARE CONTINUE HANDLER FOR NOT FOUND SET @id = NULL;&#xD;&#xA;    &#xD;&#xA;            SET _parent = @id;&#xD;&#xA;            SET _id = -1;&#xD;&#xA;    &#xD;&#xA;            IF @id IS NULL THEN&#xD;&#xA;                    RETURN NULL;&#xD;&#xA;            END IF;&#xD;&#xA;    &#xD;&#xA;            LOOP&#xD;&#xA;                    SELECT  MIN(id)&#xD;&#xA;                    INTO    @id&#xD;&#xA;                    FROM    t_hierarchy&#xD;&#xA;                    WHERE   parent = _parent&#xD;&#xA;                            AND id > _id;&#xD;&#xA;                    IF @id IS NOT NULL OR _parent = @start_with THEN&#xD;&#xA;                            SET @level = @level + 1;&#xD;&#xA;                            RETURN @id;&#xD;&#xA;                    END IF;&#xD;&#xA;                    SET @level := @level - 1;&#xD;&#xA;                    SELECT  id, parent&#xD;&#xA;                    INTO    _id, _parent&#xD;&#xA;                    FROM    t_hierarchy&#xD;&#xA;                    WHERE   id = _parent;&#xD;&#xA;            END LOOP;       &#xD;&#xA;    END"
