"Content"
"    public class LoginActivity extends Activity {&#xD;&#xA;        private static final String TAG = RegisterActivity.class.getSimpleName();&#xD;&#xA;        private Button btnLogin;&#xD;&#xA;        private Button btnLinkToRegister;&#xD;&#xA;        private EditText inputEmail;&#xD;&#xA;        private EditText inputPassword;&#xD;&#xA;        private ProgressDialog pDialog;&#xD;&#xA;        private SessionManager session;&#xD;&#xA;        private SQLiteHandler db;&#xD;&#xA;     &#xD;&#xA;        @Override&#xD;&#xA;        public void onCreate(Bundle savedInstanceState) {&#xD;&#xA;            super.onCreate(savedInstanceState);&#xD;&#xA;            setContentView(R.layout.activity_login);&#xD;&#xA;     &#xD;&#xA;            inputEmail = (EditText) findViewById(R.id.email);&#xD;&#xA;            inputPassword = (EditText) findViewById(R.id.password);&#xD;&#xA;            btnLogin = (Button) findViewById(R.id.btnLogin);&#xD;&#xA;            btnLinkToRegister = (Button) findViewById(R.id.btnLinkToRegisterScreen);&#xD;&#xA;     &#xD;&#xA;            // Progress dialog&#xD;&#xA;            pDialog = new ProgressDialog(this);&#xD;&#xA;            pDialog.setCancelable(false);&#xD;&#xA;     &#xD;&#xA;            // SQLite database handler&#xD;&#xA;            db = new SQLiteHandler(getApplicationContext());&#xD;&#xA;     &#xD;&#xA;            // Session manager&#xD;&#xA;            session = new SessionManager(getApplicationContext());&#xD;&#xA;     &#xD;&#xA;            // Check if user is already logged in or not&#xD;&#xA;            if (session.isLoggedIn()) {&#xD;&#xA;                // User is already logged in. Take him to main activity&#xD;&#xA;                Intent intent = new Intent(LoginActivity.this, MainActivity.class);&#xD;&#xA;                startActivity(intent);&#xD;&#xA;                finish();&#xD;&#xA;            }&#xD;&#xA;     &#xD;&#xA;            // Login button Click Event&#xD;&#xA;            btnLogin.setOnClickListener(new View.OnClickListener() {&#xD;&#xA;     &#xD;&#xA;                public void onClick(View view) {&#xD;&#xA;                    String email = inputEmail.getText().toString().trim();&#xD;&#xA;                    String password = inputPassword.getText().toString().trim();&#xD;&#xA;     &#xD;&#xA;                    // Check for empty data in the form&#xD;&#xA;                    if (!email.isEmpty() && !password.isEmpty()) {&#xD;&#xA;                        // login user&#xD;&#xA;                        checkLogin(email, password);&#xD;&#xA;                    } else {&#xD;&#xA;                        // Prompt user to enter credentials&#xD;&#xA;                        Toast.makeText(getApplicationContext(),&#xD;&#xA;                                """"Please enter the credentials!"""", Toast.LENGTH_LONG)&#xD;&#xA;                                .show();&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;     &#xD;&#xA;            });&#xD;&#xA;     &#xD;&#xA;            // Link to Register Screen&#xD;&#xA;            btnLinkToRegister.setOnClickListener(new View.OnClickListener() {&#xD;&#xA;     &#xD;&#xA;                public void onClick(View view) {&#xD;&#xA;                    Intent i = new Intent(getApplicationContext(),&#xD;&#xA;                            RegisterActivity.class);&#xD;&#xA;                    startActivity(i);&#xD;&#xA;                    finish();&#xD;&#xA;                }&#xD;&#xA;            });&#xD;&#xA;     &#xD;&#xA;        }&#xD;&#xA;     &#xD;&#xA;        /**&#xD;&#xA;         * function to verify login details in mysql db&#xD;&#xA;         * */&#xD;&#xA;        private void checkLogin(final String email, final String password) {&#xD;&#xA;            // Tag used to cancel the request&#xD;&#xA;            String tag_string_req = """"req_login"""";&#xD;&#xA;     &#xD;&#xA;            pDialog.setMessage(""""Logging in ..."""");&#xD;&#xA;            showDialog();&#xD;&#xA;     &#xD;&#xA;            StringRequest strReq = new StringRequest(Method.POST,&#xD;&#xA;                    AppConfig.URL_LOGIN, new Response.Listener<String>() {&#xD;&#xA;     &#xD;&#xA;                @Override&#xD;&#xA;                public void onResponse(String response) {&#xD;&#xA;                    Log.d(TAG, """"Login Response: """" + response.toString());&#xD;&#xA;                    hideDialog();&#xD;&#xA;     &#xD;&#xA;                    try {&#xD;&#xA;                        JSONObject jObj = new JSONObject(response);&#xD;&#xA;                        boolean error = jObj.getBoolean(""""error"""");&#xD;&#xA;     &#xD;&#xA;                        // Check for error node in json&#xD;&#xA;                        if (!error) {&#xD;&#xA;                            // user successfully logged in&#xD;&#xA;                            // Create login session&#xD;&#xA;                            session.setLogin(true);&#xD;&#xA;     &#xD;&#xA;                            // Now store the user in SQLite&#xD;&#xA;                            String uid = jObj.getString(""""uid"""");&#xD;&#xA;     &#xD;&#xA;                            JSONObject user = jObj.getJSONObject(""""user"""");&#xD;&#xA;                            String name = user.getString(""""name"""");&#xD;&#xA;                            String email = user.getString(""""email"""");&#xD;&#xA;                            String created_at = user&#xD;&#xA;                                    .getString(""""created_at"""");&#xD;&#xA;     &#xD;&#xA;                            // Inserting row in users table&#xD;&#xA;                            db.addUser(name, email, uid, created_at);&#xD;&#xA;     &#xD;&#xA;                            // Launch main activity&#xD;&#xA;                            Intent intent = new Intent(LoginActivity.this,&#xD;&#xA;                                    MainActivity.class);&#xD;&#xA;                            startActivity(intent);&#xD;&#xA;                            finish();&#xD;&#xA;                        } else {&#xD;&#xA;                            // Error in login. Get the error message&#xD;&#xA;                            String errorMsg = jObj.getString(""""error_msg"""");&#xD;&#xA;                            Toast.makeText(getApplicationContext(),&#xD;&#xA;                                    errorMsg, Toast.LENGTH_LONG).show();&#xD;&#xA;                        }&#xD;&#xA;                    } catch (JSONException e) {&#xD;&#xA;                        // JSON error&#xD;&#xA;                        e.printStackTrace();&#xD;&#xA;                        Toast.makeText(getApplicationContext(), """"Json error: """" + e.getMessage(), Toast.LENGTH_LONG).show();&#xD;&#xA;                    }&#xD;&#xA;     &#xD;&#xA;                }&#xD;&#xA;            }, new Response.ErrorListener() {&#xD;&#xA;     &#xD;&#xA;                @Override&#xD;&#xA;                public void onErrorResponse(VolleyError error) {&#xD;&#xA;                    Log.e(TAG, """"Login Error: """" + error.getMessage());&#xD;&#xA;                    Toast.makeText(getApplicationContext(),&#xD;&#xA;                            error.getMessage(), Toast.LENGTH_LONG).show();&#xD;&#xA;                    hideDialog();&#xD;&#xA;                }&#xD;&#xA;            }) {&#xD;&#xA;     &#xD;&#xA;                @Override&#xD;&#xA;                protected Map<String, String> getParams() {&#xD;&#xA;                    // Posting parameters to login url&#xD;&#xA;                    Map<String, String> params = new HashMap<String, String>();&#xD;&#xA;                    params.put(""""email"""", email);&#xD;&#xA;                    params.put(""""password"""", password);&#xD;&#xA;     &#xD;&#xA;                    return params;&#xD;&#xA;                }&#xD;&#xA;     &#xD;&#xA;            };&#xD;&#xA;     &#xD;&#xA;            // Adding request to request queue&#xD;&#xA;            AppController.getInstance().addToRequestQueue(strReq, tag_string_req);&#xD;&#xA;        }&#xD;&#xA;     &#xD;&#xA;        private void showDialog() {&#xD;&#xA;            if (!pDialog.isShowing())&#xD;&#xA;                pDialog.show();&#xD;&#xA;        }&#xD;&#xA;     &#xD;&#xA;        private void hideDialog() {&#xD;&#xA;            if (pDialog.isShowing())&#xD;&#xA;                pDialog.dismiss();&#xD;&#xA;        }&#xD;&#xA;    }"
