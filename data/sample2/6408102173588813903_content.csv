"Content"
"     public class AndroidMultiPartEntity extends MultipartEntity&#xD;&#xA;    &#xD;&#xA;    {&#xD;&#xA;    &#xD;&#xA;    	private final ProgressListener listener;&#xD;&#xA;    &#xD;&#xA;    	public AndroidMultiPartEntity(final ProgressListener listener) {&#xD;&#xA;    		super();&#xD;&#xA;    		this.listener = listener;&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	public AndroidMultiPartEntity(final HttpMultipartMode mode,&#xD;&#xA;    			final ProgressListener listener) {&#xD;&#xA;    		super(mode);&#xD;&#xA;    		this.listener = listener;&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	public AndroidMultiPartEntity(HttpMultipartMode mode,&#xD;&#xA;    			final String boundary, final Charset charset,&#xD;&#xA;    			final ProgressListener listener) {&#xD;&#xA;    		super(mode, boundary, charset);&#xD;&#xA;    		this.listener = listener;&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	@Override&#xD;&#xA;    	public void writeTo(final OutputStream outstream) throws IOException {&#xD;&#xA;    		super.writeTo(new CountingOutputStream(outstream, this.listener));&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	public static interface ProgressListener {&#xD;&#xA;    		void transferred(long num);&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	public static class CountingOutputStream extends FilterOutputStream {&#xD;&#xA;    &#xD;&#xA;    		private final ProgressListener listener;&#xD;&#xA;    		private long transferred;&#xD;&#xA;    &#xD;&#xA;    		public CountingOutputStream(final OutputStream out,&#xD;&#xA;    				final ProgressListener listener) {&#xD;&#xA;    			super(out);&#xD;&#xA;    			this.listener = listener;&#xD;&#xA;    			this.transferred = 0;&#xD;&#xA;    		}&#xD;&#xA;    &#xD;&#xA;    		public void write(byte[] b, int off, int len) throws IOException {&#xD;&#xA;    			out.write(b, off, len);&#xD;&#xA;    			this.transferred += len;&#xD;&#xA;    			this.listener.transferred(this.transferred);&#xD;&#xA;    		}&#xD;&#xA;    &#xD;&#xA;    		public void write(int b) throws IOException {&#xD;&#xA;    			out.write(b);&#xD;&#xA;    			this.transferred++;&#xD;&#xA;    			this.listener.transferred(this.transferred);&#xD;&#xA;    		}&#xD;&#xA;    	}&#xD;&#xA;    }"
