"Content"
"    $(document).ready(function(){&#xD;&#xA;        $('button').click(function(){&#xD;&#xA;            var data = $('#txt').val();&#xD;&#xA;            if(data == '')&#xD;&#xA;                return;&#xD;&#xA;            &#xD;&#xA;            JSONToCSVConvertor(data, """"Vehicle Report"""", true);&#xD;&#xA;        });&#xD;&#xA;    });&#xD;&#xA;    &#xD;&#xA;    function JSONToCSVConvertor(JSONData, ReportTitle, ShowLabel) {&#xD;&#xA;        //If JSONData is not an object then JSON.parse will parse the JSON string in an Object&#xD;&#xA;        var arrData = typeof JSONData != 'object' ? JSON.parse(JSONData) : JSONData;&#xD;&#xA;        &#xD;&#xA;        var CSV = '';    &#xD;&#xA;        //Set Report title in first row or line&#xD;&#xA;        &#xD;&#xA;        CSV += ReportTitle + '\r\n\n';&#xD;&#xA;    &#xD;&#xA;        //This condition will generate the Label/Header&#xD;&#xA;        if (ShowLabel) {&#xD;&#xA;            var row = """""""";&#xD;&#xA;            &#xD;&#xA;            //This loop will extract the label from 1st index of on array&#xD;&#xA;            for (var index in arrData[0]) {&#xD;&#xA;                &#xD;&#xA;                //Now convert each value to string and comma-seprated&#xD;&#xA;                row += index + ',';&#xD;&#xA;            }&#xD;&#xA;    &#xD;&#xA;            row = row.slice(0, -1);&#xD;&#xA;            &#xD;&#xA;            //append Label row with line break&#xD;&#xA;            CSV += row + '\r\n';&#xD;&#xA;        }&#xD;&#xA;        &#xD;&#xA;        //1st loop is to extract each row&#xD;&#xA;        for (var i = 0; i < arrData.length; i++) {&#xD;&#xA;            var row = """""""";&#xD;&#xA;            &#xD;&#xA;            //2nd loop will extract each column and convert it in string comma-seprated&#xD;&#xA;            for (var index in arrData[i]) {&#xD;&#xA;                row += '""""' + arrData[i][index] + '"""",';&#xD;&#xA;            }&#xD;&#xA;    &#xD;&#xA;            row.slice(0, row.length - 1);&#xD;&#xA;            &#xD;&#xA;            //add a line break after each row&#xD;&#xA;            CSV += row + '\r\n';&#xD;&#xA;        }&#xD;&#xA;    &#xD;&#xA;        if (CSV == '') {        &#xD;&#xA;            alert(""""Invalid data"""");&#xD;&#xA;            return;&#xD;&#xA;        }   &#xD;&#xA;        &#xD;&#xA;        //Generate a file name&#xD;&#xA;        var fileName = """"MyReport_"""";&#xD;&#xA;        //this will remove the blank-spaces from the title and replace it with an underscore&#xD;&#xA;        fileName += ReportTitle.replace(/ /g,""""_"""");   &#xD;&#xA;        &#xD;&#xA;        //Initialize file format you want csv or xls&#xD;&#xA;        var uri = 'data:text/csv;charset=utf-8,' + escape(CSV);&#xD;&#xA;        &#xD;&#xA;        // Now the little tricky part.&#xD;&#xA;        // you can use either>> window.open(uri);&#xD;&#xA;        // but this will not work in some browsers&#xD;&#xA;        // or you will not get the correct file extension    &#xD;&#xA;        &#xD;&#xA;        //this trick will generate a temp <a /> tag&#xD;&#xA;        var link = document.createElement(""""a"""");    &#xD;&#xA;        link.href = uri;&#xD;&#xA;        &#xD;&#xA;        //set the visibility hidden so it will not effect on your web-layout&#xD;&#xA;        link.style = """"visibility:hidden"""";&#xD;&#xA;        link.download = fileName + """".csv"""";&#xD;&#xA;        &#xD;&#xA;        //this part will append the anchor tag and remove it after automatic click&#xD;&#xA;        document.body.appendChild(link);&#xD;&#xA;        link.click();&#xD;&#xA;        document.body.removeChild(link);&#xD;&#xA;    }"
