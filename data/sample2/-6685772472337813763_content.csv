"Content"
"    'use strict';&#xD;&#xA;    &#xD;&#xA;    var fs        = require('fs');&#xD;&#xA;    var path      = require('path');&#xD;&#xA;    var Sequelize = require('sequelize');&#xD;&#xA;    var basename  = path.basename(module.filename);&#xD;&#xA;    var env       = process.env.NODE_ENV || 'development';&#xD;&#xA;    var config    = require(__dirname + '/../config/config.json')[env];&#xD;&#xA;    var db        = {};&#xD;&#xA;    &#xD;&#xA;    if (config.use_env_variable) {&#xD;&#xA;      var sequelize = new Sequelize(process.env[config.use_env_variable]);&#xD;&#xA;    } else {&#xD;&#xA;      var sequelize = new Sequelize(config.database, config.username, config.password, config);&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    fs&#xD;&#xA;      .readdirSync(__dirname)&#xD;&#xA;      .filter(function(file) {&#xD;&#xA;        return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');&#xD;&#xA;      })&#xD;&#xA;      .forEach(function(file) {&#xD;&#xA;        var model = sequelize['import'](path.join(__dirname, file));&#xD;&#xA;        db[model.name] = model;&#xD;&#xA;      });&#xD;&#xA;    &#xD;&#xA;    Object.keys(db).forEach(function(modelName) {&#xD;&#xA;      if (db[modelName].associate) {&#xD;&#xA;        db[modelName].associate(db);&#xD;&#xA;      }&#xD;&#xA;    });&#xD;&#xA;    &#xD;&#xA;    db.sequelize = sequelize;&#xD;&#xA;    db.Sequelize = Sequelize;&#xD;&#xA;    &#xD;&#xA;    module.exports = db;"
