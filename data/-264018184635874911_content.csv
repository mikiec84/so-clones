"Content"
"    //Current base URL (you can dynamically retrieve from $_SERVER)&#xD;&#xA;    $pgurl = 'http://example.com/scripts/php/absurl.php';&#xD;&#xA;    function absurl($url) {&#xD;&#xA;     global $pgurl;&#xD;&#xA;     if(strpos($url,'://')) return $url; //already absolute&#xD;&#xA;     if(substr($url,0,2)=='//') return 'http:'.$url; //shorthand scheme&#xD;&#xA;     if($url[0]=='/') return parse_url($pgurl,PHP_URL_SCHEME).'://'.parse_url($pgurl,PHP_URL_HOST).$url; //just add domain&#xD;&#xA;     if(strpos($pgurl,'/',9)===false) $pgurl .= '/'; //add slash to domain if needed&#xD;&#xA;     return substr($pgurl,0,strrpos($pgurl,'/')+1).$url; //for relative links, gets current directory and appends new filename&#xD;&#xA;    }&#xD;&#xA;    function nodots($path) { //Resolve dot dot slashes, no regex!&#xD;&#xA;     $arr1 = explode('/',$path);&#xD;&#xA;     $arr2 = array();&#xD;&#xA;     foreach($arr1 as $seg) {&#xD;&#xA;      switch($seg) {&#xD;&#xA;       case '.':&#xD;&#xA;        break;&#xD;&#xA;       case '..':&#xD;&#xA;        array_pop($arr2);&#xD;&#xA;        break;&#xD;&#xA;       case '...':&#xD;&#xA;        array_pop($arr2); array_pop($arr2);&#xD;&#xA;        break;&#xD;&#xA;       case '....':&#xD;&#xA;        array_pop($arr2); array_pop($arr2); array_pop($arr2);&#xD;&#xA;        break;&#xD;&#xA;       case '.....':&#xD;&#xA;        array_pop($arr2); array_pop($arr2); array_pop($arr2); array_pop($arr2);&#xD;&#xA;        break;&#xD;&#xA;       default:&#xD;&#xA;        $arr2[] = $seg;&#xD;&#xA;      }&#xD;&#xA;     }&#xD;&#xA;     return implode('/',$arr2);&#xD;&#xA;    }"
