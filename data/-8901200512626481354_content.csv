"Content"
"    <?php&#xD;&#xA;    // input: textfile with one bitly shortened url per line&#xD;&#xA;    $plain_urls = file_get_contents('in.txt');&#xD;&#xA;    $bitly_urls = explode(""""\r\n"""", $plain_urls);&#xD;&#xA;    &#xD;&#xA;    // output: where should we write&#xD;&#xA;    $w_out = fopen(""""out.csv"""", """"a+"""") or die(""""Unable to open file!"""");&#xD;&#xA;    &#xD;&#xA;    foreach($bitly_urls as $bitly_url) {&#xD;&#xA;      $c = curl_init($bitly_url);&#xD;&#xA;      curl_setopt($c, CURLOPT_USERAGENT, 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36');&#xD;&#xA;      curl_setopt($c, CURLOPT_FOLLOWLOCATION, 0);&#xD;&#xA;      curl_setopt($c, CURLOPT_HEADER, 1);&#xD;&#xA;      curl_setopt($c, CURLOPT_RETURNTRANSFER, 1);&#xD;&#xA;      curl_setopt($c, CURLOPT_CONNECTTIMEOUT, 20);&#xD;&#xA;      // curl_setopt($c, CURLOPT_PROXY, 'localhost:9150');&#xD;&#xA;      // curl_setopt($c, CURLOPT_PROXYTYPE, CURLPROXY_SOCKS5);&#xD;&#xA;      $r = curl_exec($c);&#xD;&#xA;      &#xD;&#xA;      // get the redirect url:&#xD;&#xA;      $redirect_url = curl_getinfo($c)['redirect_url'];&#xD;&#xA;      &#xD;&#xA;      // write output as csv&#xD;&#xA;      $out = '""""'.$bitly_url.'"""";""""'.$redirect_url.'""""'.""""\n"""";&#xD;&#xA;      fwrite($w_out, $out);&#xD;&#xA;    }&#xD;&#xA;    fclose($w_out);"
