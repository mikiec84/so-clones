"Content"
"	<?php&#xD;&#xA;	function nicetime($date)&#xD;&#xA;	{&#xD;&#xA;		if(empty($date)) {&#xD;&#xA;			return """"No date provided"""";&#xD;&#xA;		}&#xD;&#xA;	   &#xD;&#xA;		$periods         = array(""""second"""", """"minute"""", """"hour"""", """"day"""", """"week"""", """"month"""", """"year"""", """"decade"""");&#xD;&#xA;		$lengths         = array(""""60"""",""""60"""",""""24"""",""""7"""",""""4.35"""",""""12"""",""""10"""");&#xD;&#xA;	   &#xD;&#xA;		$now             = time();&#xD;&#xA;		$unix_date         = strtotime($date);&#xD;&#xA;	   &#xD;&#xA;		   // check validity of date&#xD;&#xA;		if(empty($unix_date)) {   &#xD;&#xA;			return """"Bad date"""";&#xD;&#xA;		}&#xD;&#xA;		// is it future date or past date&#xD;&#xA;		if($now > $unix_date) {   &#xD;&#xA;			$difference     = $now - $unix_date;&#xD;&#xA;			$tense         = """"ago"""";&#xD;&#xA;		   &#xD;&#xA;		} else {&#xD;&#xA;			$difference     = $unix_date - $now;&#xD;&#xA;			$tense         = """"from now"""";&#xD;&#xA;		}&#xD;&#xA;	   &#xD;&#xA;		for($j = 0; $difference >= $lengths[$j] && $j < count($lengths)-1; $j++) {&#xD;&#xA;			$difference /= $lengths[$j];&#xD;&#xA;		}&#xD;&#xA;	   &#xD;&#xA;		$difference = round($difference);&#xD;&#xA;	   &#xD;&#xA;		if($difference != 1) {&#xD;&#xA;			$periods[$j].= """"s"""";&#xD;&#xA;		}&#xD;&#xA;	   &#xD;&#xA;		return """"$difference $periods[$j] {$tense}"""";&#xD;&#xA;	}&#xD;&#xA;	$date = """"2009-03-04 17:45"""";&#xD;&#xA;	$result = nicetime($date); // 2 days ago&#xD;&#xA;	?>"
