"Content"
"    CREATE FUNCTION levenshtein( s1 VARCHAR(255), s2 VARCHAR(255) )  RETURNS INT  DETERMINISTIC  BEGIN    DECLARE s1_len , s2_len, i, j, c, c_temp, cost INT;    DECLARE s1_char CHAR;    -- max strlen=255    DECLARE cv0, cv1 VARBINARY(256);    SET s1_len = CHAR_LENGTH(s1), s2_len = CHAR_LENGTH(s2), cv1 = 0x00, j = 1, i = 1, c = >0;    IF s1 = s2 THEN&#xD;&#xA;         RETURN 0;    ELSEIF s1_len = 0 THEN&#xD;&#xA;         RETURN s2_len;    ELSEIF s2_len = 0 THEN&#xD;&#xA;         RETURN s1_len;    ELSE&#xD;&#xA;         WHILE j <= s2_len DO&#xD;&#xA;           SET cv1 = CONCAT(cv1, UNHEX(HEX(j))), j = j + 1;&#xD;&#xA;         END WHILE;&#xD;&#xA;         WHILE i <= s1_len DO&#xD;&#xA;           SET s1_char = SUBSTRING(s1, i, 1), c = i, cv0 = UNHEX(HEX(i)), j = 1;&#xD;&#xA;           WHILE j <= s2_len DO&#xD;&#xA;             SET c = c + 1;&#xD;&#xA;             IF s1_char = SUBSTRING(s2, j, 1) THEN &#xD;&#xA;               SET cost = 0; ELSE SET cost = 1;&#xD;&#xA;             END IF;&#xD;&#xA;             SET c_temp = CONV(HEX(SUBSTRING(cv1, j, 1)), 16, 10) + cost;&#xD;&#xA;             IF c > c_temp THEN SET c = c_temp; END IF;&#xD;&#xA;               SET c_temp = CONV(HEX(SUBSTRING(cv1, j+1, 1)), 16, 10) + 1;&#xD;&#xA;               IF c > c_temp THEN &#xD;&#xA;                 SET c = c_temp; &#xD;&#xA;               END IF;&#xD;&#xA;               SET cv0 = CONCAT(cv0, UNHEX(HEX(c))), j = j + 1;&#xD;&#xA;           END WHILE;&#xD;&#xA;           SET cv1 = cv0, i = i + 1;&#xD;&#xA;         END WHILE;    END IF;    RETURN c;  END;"
