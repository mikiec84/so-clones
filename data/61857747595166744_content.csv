"Content"
"	<?php&#xD;&#xA;	function getBrowser() &#xD;&#xA;	{ &#xD;&#xA;		$u_agent = $_SERVER['HTTP_USER_AGENT']; &#xD;&#xA;		$bname = 'Unknown';&#xD;&#xA;		$platform = 'Unknown';&#xD;&#xA;		$version= """""""";&#xD;&#xA;		//First get the platform?&#xD;&#xA;		if (preg_match('/linux/i', $u_agent)) {&#xD;&#xA;			$platform = 'linux';&#xD;&#xA;		}&#xD;&#xA;		elseif (preg_match('/macintosh|mac os x/i', $u_agent)) {&#xD;&#xA;			$platform = 'mac';&#xD;&#xA;		}&#xD;&#xA;		elseif (preg_match('/windows|win32/i', $u_agent)) {&#xD;&#xA;			$platform = 'windows';&#xD;&#xA;		}&#xD;&#xA;		&#xD;&#xA;		// Next get the name of the useragent yes seperately and for good reason&#xD;&#xA;		if(preg_match('/MSIE/i',$u_agent) && !preg_match('/Opera/i',$u_agent)) &#xD;&#xA;		{ &#xD;&#xA;			$bname = 'Internet Explorer'; &#xD;&#xA;			$ub = """"MSIE""""; &#xD;&#xA;		} &#xD;&#xA;		elseif(preg_match('/Firefox/i',$u_agent)) &#xD;&#xA;		{ &#xD;&#xA;			$bname = 'Mozilla Firefox'; &#xD;&#xA;			$ub = """"Firefox""""; &#xD;&#xA;		} &#xD;&#xA;		elseif(preg_match('/Chrome/i',$u_agent)) &#xD;&#xA;		{ &#xD;&#xA;			$bname = 'Google Chrome'; &#xD;&#xA;			$ub = """"Chrome""""; &#xD;&#xA;		} &#xD;&#xA;		elseif(preg_match('/Safari/i',$u_agent)) &#xD;&#xA;		{ &#xD;&#xA;			$bname = 'Apple Safari'; &#xD;&#xA;			$ub = """"Safari""""; &#xD;&#xA;		} &#xD;&#xA;		elseif(preg_match('/Opera/i',$u_agent)) &#xD;&#xA;		{ &#xD;&#xA;			$bname = 'Opera'; &#xD;&#xA;			$ub = """"Opera""""; &#xD;&#xA;		} &#xD;&#xA;		elseif(preg_match('/Netscape/i',$u_agent)) &#xD;&#xA;		{ &#xD;&#xA;			$bname = 'Netscape'; &#xD;&#xA;			$ub = """"Netscape""""; &#xD;&#xA;		} &#xD;&#xA;		&#xD;&#xA;		// finally get the correct version number&#xD;&#xA;		$known = array('Version', $ub, 'other');&#xD;&#xA;		$pattern = '#(?<browser>' . join('|', $known) .&#xD;&#xA;		')[/ ]+(?<version>[0-9.|a-zA-Z.]*)#';&#xD;&#xA;		if (!preg_match_all($pattern, $u_agent, $matches)) {&#xD;&#xA;			// we have no matching number just continue&#xD;&#xA;		}&#xD;&#xA;		&#xD;&#xA;		// see how many we have&#xD;&#xA;		$i = count($matches['browser']);&#xD;&#xA;		if ($i != 1) {&#xD;&#xA;			//we will have two since we are not using 'other' argument yet&#xD;&#xA;			//see if version is before or after the name&#xD;&#xA;			if (strripos($u_agent,""""Version"""") < strripos($u_agent,$ub)){&#xD;&#xA;				$version= $matches['version'][0];&#xD;&#xA;			}&#xD;&#xA;			else {&#xD;&#xA;				$version= $matches['version'][1];&#xD;&#xA;			}&#xD;&#xA;		}&#xD;&#xA;		else {&#xD;&#xA;			$version= $matches['version'][0];&#xD;&#xA;		}&#xD;&#xA;		&#xD;&#xA;		// check if we have a number&#xD;&#xA;		if ($version==null || $version=="""""""") {$version=""""?"""";}&#xD;&#xA;		&#xD;&#xA;		return array(&#xD;&#xA;			'userAgent' => $u_agent,&#xD;&#xA;			'name'      => $bname,&#xD;&#xA;			'version'   => $version,&#xD;&#xA;			'platform'  => $platform,&#xD;&#xA;			'pattern'    => $pattern&#xD;&#xA;		);&#xD;&#xA;	} &#xD;&#xA;	// now try it&#xD;&#xA;	$ua=getBrowser();&#xD;&#xA;	$yourbrowser= """"Your browser: """" . $ua['name'] . """" """" . $ua['version'] . """" on """" .$ua['platform'] . """" reports: <br >"""" . $ua['userAgent'];&#xD;&#xA;	print_r($yourbrowser);&#xD;&#xA;	?>"
