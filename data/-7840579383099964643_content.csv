"Content"
"    import java.io.File;&#xD;&#xA;    &#xD;&#xA;    import javax.xml.XMLConstants;&#xD;&#xA;    import javax.xml.parsers.DocumentBuilder;&#xD;&#xA;    import javax.xml.parsers.DocumentBuilderFactory;&#xD;&#xA;    import javax.xml.transform.Source;&#xD;&#xA;    import javax.xml.transform.dom.DOMSource;&#xD;&#xA;    import javax.xml.transform.stream.StreamSource;&#xD;&#xA;    import javax.xml.validation.Schema;&#xD;&#xA;    import javax.xml.validation.SchemaFactory;&#xD;&#xA;    import javax.xml.validation.Validator;&#xD;&#xA;    &#xD;&#xA;    import org.w3c.dom.Document;&#xD;&#xA;    &#xD;&#xA;    /**&#xD;&#xA;     * A Utility to help with xml communication validation.&#xD;&#xA;     */&#xD;&#xA;    public class XmlUtil {&#xD;&#xA;    &#xD;&#xA;    	/**&#xD;&#xA;    	 * Validation method. &#xD;&#xA;    	 * Base code/example from: http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/validation/package-summary.html&#xD;&#xA;    	 * &#xD;&#xA;    	 * @param xmlFilePath The xml file we are trying to validate.&#xD;&#xA;    	 * @param xmlSchemaFilePath The schema file we are using for the validation. This method assumes the schema file is valid.&#xD;&#xA;    	 * @return True if valid, false if not valid or bad parse. &#xD;&#xA;    	 */&#xD;&#xA;    	public static boolean validate(String xmlFilePath, String xmlSchemaFilePath) {&#xD;&#xA;    		&#xD;&#xA;    	    // parse an XML document into a DOM tree&#xD;&#xA;    	    DocumentBuilder parser = null;&#xD;&#xA;    	    Document document;&#xD;&#xA;    &#xD;&#xA;    	    // Try the validation, we assume that if there are any issues with the validation&#xD;&#xA;    	    // process that the input is invalid.&#xD;&#xA;    	    try {&#xD;&#xA;    		    // validate the DOM tree&#xD;&#xA;    			parser = DocumentBuilderFactory.newInstance().newDocumentBuilder();&#xD;&#xA;    			document = parser.parse(new File(xmlFilePath));&#xD;&#xA;    			&#xD;&#xA;    			// create a SchemaFactory capable of understanding WXS schemas&#xD;&#xA;    		    SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);&#xD;&#xA;    &#xD;&#xA;    		    // load a WXS schema, represented by a Schema instance&#xD;&#xA;    		    Source schemaFile = new StreamSource(new File(xmlSchemaFilePath));&#xD;&#xA;    		    Schema schema = factory.newSchema(schemaFile);&#xD;&#xA;    &#xD;&#xA;    		    // create a Validator instance, which can be used to validate an instance document&#xD;&#xA;    		    Validator validator = schema.newValidator();&#xD;&#xA;    	    	validator.validate(new DOMSource(document));&#xD;&#xA;    	    } catch (Exception e) {&#xD;&#xA;    			// Catches: SAXException, ParserConfigurationException, and IOException.&#xD;&#xA;    	    	return false;&#xD;&#xA;    		}     &#xD;&#xA;    	    &#xD;&#xA;    	    return true;&#xD;&#xA;    	}&#xD;&#xA;    }"
