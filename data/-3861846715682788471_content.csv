"Content"
"    package com.androidhive.androidsqlite;&#xD;&#xA;    &#xD;&#xA;    import java.util.ArrayList;&#xD;&#xA;    import java.util.List;&#xD;&#xA;    &#xD;&#xA;    import android.content.ContentValues;&#xD;&#xA;    import android.content.Context;&#xD;&#xA;    import android.database.Cursor;&#xD;&#xA;    import android.database.sqlite.SQLiteDatabase;&#xD;&#xA;    import android.database.sqlite.SQLiteOpenHelper;&#xD;&#xA;    &#xD;&#xA;    public class DatabaseHandler extends SQLiteOpenHelper {&#xD;&#xA;    &#xD;&#xA;    	// All Static variables&#xD;&#xA;    	// Database Version&#xD;&#xA;    	private static final int DATABASE_VERSION = 1;&#xD;&#xA;    &#xD;&#xA;    	// Database Name&#xD;&#xA;    	private static final String DATABASE_NAME = """"contactsManager"""";&#xD;&#xA;    &#xD;&#xA;    	// Contacts table name&#xD;&#xA;    	private static final String TABLE_CONTACTS = """"contacts"""";&#xD;&#xA;    &#xD;&#xA;    	// Contacts Table Columns names&#xD;&#xA;    	private static final String KEY_ID = """"id"""";&#xD;&#xA;    	private static final String KEY_NAME = """"name"""";&#xD;&#xA;    	private static final String KEY_PH_NO = """"phone_number"""";&#xD;&#xA;    &#xD;&#xA;    	public DatabaseHandler(Context context) {&#xD;&#xA;    		super(context, DATABASE_NAME, null, DATABASE_VERSION);&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	// Creating Tables&#xD;&#xA;    	@Override&#xD;&#xA;    	public void onCreate(SQLiteDatabase db) {&#xD;&#xA;    		String CREATE_CONTACTS_TABLE = """"CREATE TABLE """" + TABLE_CONTACTS + """"(""""&#xD;&#xA;    				+ KEY_ID + """" INTEGER PRIMARY KEY,"""" + KEY_NAME + """" TEXT,""""&#xD;&#xA;    				+ KEY_PH_NO + """" TEXT"""" + """")"""";&#xD;&#xA;    		db.execSQL(CREATE_CONTACTS_TABLE);&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	// Upgrading database&#xD;&#xA;    	@Override&#xD;&#xA;    	public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {&#xD;&#xA;    		// Drop older table if existed&#xD;&#xA;    		db.execSQL(""""DROP TABLE IF EXISTS """" + TABLE_CONTACTS);&#xD;&#xA;    &#xD;&#xA;    		// Create tables again&#xD;&#xA;    		onCreate(db);&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	/**&#xD;&#xA;    	 * All CRUD(Create, Read, Update, Delete) Operations&#xD;&#xA;    	 */&#xD;&#xA;    &#xD;&#xA;    	// Adding new contact&#xD;&#xA;    	void addContact(Contact contact) {&#xD;&#xA;    		SQLiteDatabase db = this.getWritableDatabase();&#xD;&#xA;    &#xD;&#xA;    		ContentValues values = new ContentValues();&#xD;&#xA;    		values.put(KEY_NAME, contact.getName()); // Contact Name&#xD;&#xA;    		values.put(KEY_PH_NO, contact.getPhoneNumber()); // Contact Phone&#xD;&#xA;    &#xD;&#xA;    		// Inserting Row&#xD;&#xA;    		db.insert(TABLE_CONTACTS, null, values);&#xD;&#xA;    		db.close(); // Closing database connection&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	// Getting single contact&#xD;&#xA;    	Contact getContact(int id) {&#xD;&#xA;    		SQLiteDatabase db = this.getReadableDatabase();&#xD;&#xA;    &#xD;&#xA;    		Cursor cursor = db.query(TABLE_CONTACTS, new String[] { KEY_ID,&#xD;&#xA;    				KEY_NAME, KEY_PH_NO }, KEY_ID + """"=?"""",&#xD;&#xA;    				new String[] { String.valueOf(id) }, null, null, null, null);&#xD;&#xA;    		if (cursor != null)&#xD;&#xA;    			cursor.moveToFirst();&#xD;&#xA;    &#xD;&#xA;    		Contact contact = new Contact(Integer.parseInt(cursor.getString(0)),&#xD;&#xA;    				cursor.getString(1), cursor.getString(2));&#xD;&#xA;    		// return contact&#xD;&#xA;    		return contact;&#xD;&#xA;    	}&#xD;&#xA;    	&#xD;&#xA;    	// Getting All Contacts&#xD;&#xA;    	public List<Contact> getAllContacts() {&#xD;&#xA;    		List<Contact> contactList = new ArrayList<Contact>();&#xD;&#xA;    		// Select All Query&#xD;&#xA;    		String selectQuery = """"SELECT  * FROM """" + TABLE_CONTACTS;&#xD;&#xA;    &#xD;&#xA;    		SQLiteDatabase db = this.getWritableDatabase();&#xD;&#xA;    		Cursor cursor = db.rawQuery(selectQuery, null);&#xD;&#xA;    &#xD;&#xA;    		// looping through all rows and adding to list&#xD;&#xA;    		if (cursor.moveToFirst()) {&#xD;&#xA;    			do {&#xD;&#xA;    				Contact contact = new Contact();&#xD;&#xA;    				contact.setID(Integer.parseInt(cursor.getString(0)));&#xD;&#xA;    				contact.setName(cursor.getString(1));&#xD;&#xA;    				contact.setPhoneNumber(cursor.getString(2));&#xD;&#xA;    				// Adding contact to list&#xD;&#xA;    				contactList.add(contact);&#xD;&#xA;    			} while (cursor.moveToNext());&#xD;&#xA;    		}&#xD;&#xA;    &#xD;&#xA;    		// return contact list&#xD;&#xA;    		return contactList;&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	// Updating single contact&#xD;&#xA;    	public int updateContact(Contact contact) {&#xD;&#xA;    		SQLiteDatabase db = this.getWritableDatabase();&#xD;&#xA;    &#xD;&#xA;    		ContentValues values = new ContentValues();&#xD;&#xA;    		values.put(KEY_NAME, contact.getName());&#xD;&#xA;    		values.put(KEY_PH_NO, contact.getPhoneNumber());&#xD;&#xA;    &#xD;&#xA;    		// updating row&#xD;&#xA;    		return db.update(TABLE_CONTACTS, values, KEY_ID + """" = ?"""",&#xD;&#xA;    				new String[] { String.valueOf(contact.getID()) });&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    	// Deleting single contact&#xD;&#xA;    	public void deleteContact(Contact contact) {&#xD;&#xA;    		SQLiteDatabase db = this.getWritableDatabase();&#xD;&#xA;    		db.delete(TABLE_CONTACTS, KEY_ID + """" = ?"""",&#xD;&#xA;    				new String[] { String.valueOf(contact.getID()) });&#xD;&#xA;    		db.close();&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    	// Getting contacts Count&#xD;&#xA;    	public int getContactsCount() {&#xD;&#xA;    		String countQuery = """"SELECT  * FROM """" + TABLE_CONTACTS;&#xD;&#xA;    		SQLiteDatabase db = this.getReadableDatabase();&#xD;&#xA;    		Cursor cursor = db.rawQuery(countQuery, null);&#xD;&#xA;    		cursor.close();&#xD;&#xA;    &#xD;&#xA;    		// return count&#xD;&#xA;    		return cursor.getCount();&#xD;&#xA;    	}&#xD;&#xA;    &#xD;&#xA;    }"
